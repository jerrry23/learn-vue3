{
  "version": 3,
  "sources": ["../src/index.ts", "../src/effect.ts", "../../shared/src/index.ts", "../src/reactive.ts"],
  "sourcesContent": ["/*\r\n * @Author: jerrry23 dixiqi@163.com\r\n * @Date: 2022-06-13 21:41:39\r\n * @LastEditors: jerrry23 dixiqi@163.com\r\n * @LastEditTime: 2022-06-13 23:08:54\r\n * @FilePath: \\1.reactivity\\packages\\reactivity\\src\\index.ts\r\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\r\nexport {effect} from './effect';\r\nexport {reactive} from './reactive';\r\n//export {computed} from './computed'", "/*\r\n * @Author: jerrry23 dixiqi@163.com\r\n * @Date: 2022-06-13 23:08:18\r\n * @LastEditors: jerrry23 dixiqi@163.com\r\n * @LastEditTime: 2022-06-13 23:10:18\r\n * @FilePath: \\1.reactivity\\packages\\reactivity\\src\\effect.ts\r\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\r\nexport function effect(fn, options = {} as any) {\r\n    \r\n}\r\n", "/*\r\n * @Author: jerrry23 dixiqi@163.com\r\n * @Date: 2022-06-13 21:41:14\r\n * @LastEditors: jerrry23 dixiqi@163.com\r\n * @LastEditTime: 2022-06-13 23:13:39\r\n * @FilePath: \\1.reactivity\\packages\\shared\\src\\index.ts\r\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\r\nexport const isObject = (value) =>{\r\n    return typeof value === 'object' && value !== null\r\n}\r\nexport const isFunction= (value) =>{\r\n    return typeof value === 'function'\r\n}", "/*\r\n * @Author: jerrry23 dixiqi@163.com\r\n * @Date: 2022-06-13 23:08:38\r\n * @LastEditors: jerrry23 dixiqi@163.com\r\n * @LastEditTime: 2022-06-14 22:47:24\r\n * @FilePath: \\1.reactivity\\packages\\reactivity\\src\\reactive.ts\r\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\r\nimport { isObject } from \"@vue/shared\";\r\n\r\nconst reactiveMap = new WeakMap();// key\u5FC5\u987B\u662F\u5BF9\u8C61\uFF0C\u5F31\u5F15\u7528\r\n\r\nexport const enum ReactiveFlags {\r\n    IS_REACTIVE = '__v_isReactive'\r\n}\r\n\r\nexport function reactive(target){\r\n    if(!isObject(target)){\r\n        return target\r\n    }\r\n\r\n    if(target[ReactiveFlags.IS_REACTIVE]){\r\n        return target\r\n    }\r\n\r\n    const existing = reactiveMap.get(target);\r\n\r\n    if(existing) {\r\n        return  existing\r\n    }\r\n\r\n    /**1.\u4EE3\u7406\u8FC7\u7684\u5BF9\u8C61\u7EE7\u7EED\u4EE3\u7406\u5C31\u4F1A\u6709\u70B9\u95EE\u9898\r\n     *  == \u5F53\u5BF9\u8C61\u88AB\u4EE3\u7406\u8FC7\u5C31\u4E0D\u8981\u518D\u6B21\u8FDB\u884C\u4EE3\u7406\u4E86 \r\n     *  =====\u4F7F\u7528proxy \u8981\u642D\u914DReflect\u6765\u4F7F\u7528  obj -> proxy\r\n             \u4E0B\u6B21\u4F20\u5165\u7684\u662Fproxy\u4E86\uFF0C\u53BB\u8FD9\u4E2A\u5BF9\u8C61\u4E0A\u53D6\u503C\u53EF\u4EE5\u547D\u4E2Dproxy\u7684get\u65B9\u6CD5 \r\n     * \r\n     */\r\n\r\n    const proxy = new Proxy(target,{\r\n        get(target,key,receiver){\r\n            console.log('\u8FD9\u91CC\u53EF\u4EE5\u8BB0\u5F55\u8FD9\u4E2A\u5C5E\u6027\u4F7F\u7528\u4E86\u54EA\u4E2Aeffect')\r\n            if(key === ReactiveFlags.IS_REACTIVE) {  // \u4EE3\u7406\u8FC7 \u8FD4\u56DE TRUE  ==>   target[ReactiveFlags.IS_REACTIVE]  ==> \u8FD4\u56DE target  \r\n                return  true \r\n            }\r\n            // return target[key]\r\n            return Reflect.get(target,key,receiver)\r\n        },\r\n        set(target,key,value,receiver){\r\n            console.log('\u8FD9\u91CC\u53EF\u4EE5\u901A\u77E5effect\u91CD\u65B0\u6267\u884C')\r\n            \r\n            target[key] = value \r\n            \r\n            //return true; \r\n\r\n            return Reflect.set(target,key,value,receiver);\r\n        }\r\n    });\r\n\r\n    reactiveMap.set(target,proxy)\r\n    return  proxy\r\n}\r\n\r\nlet person ={\r\n    name:'zs',\r\n    get alisaName() {\r\n        return this.name+'ss'\r\n    }\r\n}\r\nconsole.log(person.alisaName) // zsss\r\nconst proxy = new Proxy(person,{\r\n    get(target,key,receiver){\r\n        console.log('\u8FD9\u91CC\u53EF\u4EE5\u8BB0\u5F55\u8FD9\u4E2A\u5C5E\u6027\u4F7F\u7528\u4E86\u54EA\u4E2Aeffect')\r\n\r\n        return target[key]\r\n        // return Reflect.get(target,key,receiver)\r\n    },\r\n    set(target,key,value,receiver){\r\n        console.log('\u8FD9\u91CC\u53EF\u4EE5\u901A\u77E5effect\u91CD\u65B0\u6267\u884C')\r\n        target[key] = value \r\n        return true; \r\n\r\n        //return Reflect.set(target,key,value,receiver);\r\n    }\r\n});\r\n\r\nconsole.log(proxy.name)\r\nconsole.log(proxy.alisaName) "],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACQO,kBAAgB,IAAI,UAAU,CAAC,GAAU;AAAA,EAEhD;;;ACFO,MAAM,WAAW,CAAC,UAAS;AAC9B,WAAO,OAAO,UAAU,YAAY,UAAU;AAAA,EAClD;;;ACAA,MAAM,cAAc,oBAAI,QAAQ;AAMzB,oBAAkB,QAAO;AAC5B,QAAG,CAAC,SAAS,MAAM,GAAE;AACjB,aAAO;AAAA,IACX;AAEA,QAAG,OAAO,qCAA2B;AACjC,aAAO;AAAA,IACX;AAEA,UAAM,WAAW,YAAY,IAAI,MAAM;AAEvC,QAAG,UAAU;AACT,aAAQ;AAAA,IACZ;AASA,UAAM,SAAQ,IAAI,MAAM,QAAO;AAAA,MAC3B,IAAI,SAAO,KAAI,UAAS;AACpB,gBAAQ,IAAI,kGAAuB;AACnC,YAAG,QAAQ,oCAA2B;AAClC,iBAAQ;AAAA,QACZ;AAEA,eAAO,QAAQ,IAAI,SAAO,KAAI,QAAQ;AAAA,MAC1C;AAAA,MACA,IAAI,SAAO,KAAI,OAAM,UAAS;AAC1B,gBAAQ,IAAI,oEAAkB;AAE9B,gBAAO,OAAO;AAId,eAAO,QAAQ,IAAI,SAAO,KAAI,OAAM,QAAQ;AAAA,MAChD;AAAA,IACJ,CAAC;AAED,gBAAY,IAAI,QAAO,MAAK;AAC5B,WAAQ;AAAA,EACZ;AAEA,MAAI,SAAQ;AAAA,IACR,MAAK;AAAA,IACL,IAAI,YAAY;AACZ,aAAO,KAAK,OAAK;AAAA,IACrB;AAAA,EACJ;AACA,UAAQ,IAAI,OAAO,SAAS;AAC5B,MAAM,QAAQ,IAAI,MAAM,QAAO;AAAA,IAC3B,IAAI,QAAO,KAAI,UAAS;AACpB,cAAQ,IAAI,kGAAuB;AAEnC,aAAO,OAAO;AAAA,IAElB;AAAA,IACA,IAAI,QAAO,KAAI,OAAM,UAAS;AAC1B,cAAQ,IAAI,oEAAkB;AAC9B,aAAO,OAAO;AACd,aAAO;AAAA,IAGX;AAAA,EACJ,CAAC;AAED,UAAQ,IAAI,MAAM,IAAI;AACtB,UAAQ,IAAI,MAAM,SAAS;",
  "names": []
}
